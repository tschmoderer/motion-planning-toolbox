/**
* @file @CURFILENAME@
* @author @AUTHOR@ (@AUTHOR_MAIL@)
* @version @PROJECT_VERSION_MAJOR@.@PROJECT_VERSION_MINOR@.@PROJECT_VERSION_PATCH@
* @date @TODAY@
* @copyright Copyright (c) @YEAR@. All rights reserved. This project is released under the @LICENSE@.
*/
/**
 * @brief Header file for ControlSystem class
*/

#ifndef CNTRLTLBX_LINEARCONTROLSYSTEM_H
#define CNTRLTLBX_LINEARCONTROLSYSTEM_H

// Macros definitions

// Additional library
#include "controlSystem.h"

/**
 * @brief This describes a linear control system of the following form
 *
 * \f[
 *  \dot{x} = A(t)*x+B(t)*u
 * \f]
 * 
 * where \f$A\f$ and \f$B\f$ are matrices of appropriate size
 */
class LinearControlSystem : public ControlSystem {
    public: 
        /* CONSTRUCTORS */
        LinearControlSystem(uint16_t , uint16_t ); 
        LinearControlSystem(uint16_t , uint16_t , Time_t , Time_t , StateVector_t ); 

        /* DESTRUCTORS */
        ~LinearControlSystem(); 

        /* ACCESSORS */
        void set_dynamics_derivative_x(std::function<MatrixXd(Time_t )> );
        void set_dynamics_derivative_u(std::function<MatrixXd(Time_t )> );

        /* METHODS */
        StateVector_t eval_dynamics(Time_t , StateVector_t ) const; 

    private: 
        /* ATTRIBUTES */
        std::function<MatrixXd(Time_t )> A_;
        std::function<MatrixXd(Time_t )> B_; 
};

#endif